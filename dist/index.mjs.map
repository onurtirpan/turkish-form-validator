{"version":3,"sources":["../src/validators/tckn.ts","../src/validators/phone.ts"],"names":[],"mappings":"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","file":"index.mjs","sourcesContent":["export interface ValidationResult {\n  isValid: boolean;\n  error?: string;\n}\n\nexport interface ValidateTCKNOptions {\n  emptyError?: string;\n  tooShortError?: string;\n  tooLongError?: string;\n  firstDigitZeroError?: string;\n  invalidAlgorithmError?: string;\n  notDigitsError?: string;\n}\n\nconst DEFAULT_OPTIONS: Required<ValidateTCKNOptions> = {\n  emptyError: \"TCKN 11 haneli olmalıdır\",\n  tooShortError: \"TCKN 11 haneli olmalıdır\",\n  tooLongError: \"TCKN 11 haneli olmalıdır\",\n  firstDigitZeroError: \"Geçersiz TC Kimlik No\",\n  invalidAlgorithmError: \"Geçersiz TC Kimlik No\",\n  notDigitsError: \"TCKN sadece rakamlardan oluşmalıdır\",\n};\n\nexport function validateTCKN(\n  tckn: string,\n  options?: ValidateTCKNOptions\n): ValidationResult {\n  const opts = { ...DEFAULT_OPTIONS, ...options };\n\n  if (!tckn) {\n    return {\n      isValid: false,\n      error: opts.emptyError,\n    };\n  }\n\n  if (tckn.length > 11) {\n    return {\n      isValid: false,\n      error: opts.tooLongError,\n    };\n  }\n\n  if (tckn.length < 11) {\n    return {\n      isValid: false,\n      error: opts.tooShortError,\n    };\n  }\n\n  if (tckn[0] === \"0\") {\n    return {\n      isValid: false,\n      error: opts.firstDigitZeroError,\n    };\n  }\n\n  if (!/^\\d+$/.test(tckn)) {\n    return {\n      isValid: false,\n      error: opts.notDigitsError,\n    };\n  }\n\n  const digits = tckn.split(\"\").map(Number);\n\n  let oddSum = 0;\n  let evenSum = 0;\n\n  for (let i = 0; i < 9; i++) {\n    if (i % 2 === 0) {\n      oddSum += digits[i];\n    } else {\n      evenSum += digits[i];\n    }\n  }\n\n  let checkDigit1 = (oddSum * 7 - evenSum) % 10;\n  if (checkDigit1 < 0) {\n    checkDigit1 += 10;\n  }\n  if (checkDigit1 !== digits[9]) {\n    return {\n      isValid: false,\n      error: opts.invalidAlgorithmError,\n    };\n  }\n\n  const sumOfFirstTen = digits\n    .slice(0, 10)\n    .reduce((sum, digit) => sum + digit, 0);\n  const checkDigit2 = sumOfFirstTen % 10;\n  if (checkDigit2 !== digits[10]) {\n    return {\n      isValid: false,\n      error: opts.invalidAlgorithmError,\n    };\n  }\n\n  return {\n    isValid: true,\n  };\n}\n","export interface PhoneValidationResult {\n  valid: boolean;\n  formatted: string | null;\n  operator: string | null;\n  message: string;\n}\n\n/**\n * Validates Turkish mobile phone numbers\n *\n * Accepts various formats and validates according to Turkish mobile phone number rules:\n * - Must start with 0\n * - Second digit must be 5 (mobile phones only)\n * - Must be 11 digits total\n * - Must have valid operator code (Turkcell, Vodafone, Türk Telekom, or MVNO)\n *\n * @param phone - Phone number string in various formats (e.g., \"0532 123 45 67\", \"+905321234567\", \"0532-123-45-67\")\n * @returns Validation result with formatted number, operator name, and status\n *\n * @example\n * ```typescript\n * const result = validateTurkishPhone(\"0532 123 45 67\");\n * if (result.valid) {\n *   console.log(result.formatted); // \"+905321234567\"\n *   console.log(result.operator); // \"Turkcell\"\n * }\n * ```\n */\n\nconst OPERATOR_CODES: Record<string, string> = {\n  \"530\": \"Turkcell\",\n  \"531\": \"Turkcell\",\n  \"532\": \"Turkcell\",\n  \"533\": \"Turkcell\",\n  \"534\": \"Turkcell\",\n  \"535\": \"Turkcell\",\n  \"536\": \"Turkcell\",\n  \"537\": \"Turkcell\",\n  \"538\": \"Turkcell\",\n  \"539\": \"Turkcell\",\n  \"540\": \"Vodafone\",\n  \"541\": \"Vodafone\",\n  \"542\": \"Vodafone\",\n  \"543\": \"Vodafone\",\n  \"544\": \"Vodafone\",\n  \"545\": \"Vodafone\",\n  \"546\": \"Vodafone\",\n  \"547\": \"Vodafone\",\n  \"548\": \"Vodafone\",\n  \"549\": \"Vodafone\",\n  \"550\": \"Türk Telekom\",\n  \"551\": \"Türk Telekom\",\n  \"552\": \"Türk Telekom\",\n  \"553\": \"Türk Telekom\",\n  \"554\": \"Türk Telekom\",\n  \"555\": \"Türk Telekom\",\n  \"556\": \"Türk Telekom\",\n  \"557\": \"Türk Telekom\",\n  \"558\": \"Türk Telekom\",\n  \"559\": \"Türk Telekom\",\n  \"501\": \"Diğer\",\n  \"505\": \"Diğer\",\n  \"506\": \"Diğer\",\n  \"507\": \"Diğer\",\n  \"508\": \"Diğer\",\n  \"509\": \"Diğer\",\n};\n\nfunction cleanPhoneNumber(phone: string): string {\n  return phone.replace(/[\\s\\-\\(\\)\\+]/g, \"\").replace(/^90/, \"0\");\n}\n\nfunction getOperatorCode(phone: string): string | null {\n  if (phone.length >= 3) {\n    const code = phone.substring(1, 4);\n    return OPERATOR_CODES[code] || null;\n  }\n  return null;\n}\n\n/**\n * Validates Turkish mobile phone numbers\n *\n * Accepts various formats and validates according to Turkish mobile phone number rules:\n * - Must start with 0\n * - Second digit must be 5 (mobile phones only)\n * - Must be 11 digits total\n * - Must have valid operator code (Turkcell, Vodafone, Türk Telekom, or MVNO)\n *\n * @param phone - Phone number string in various formats (e.g., \"0532 123 45 67\", \"+905321234567\", \"0532-123-45-67\")\n * @returns Validation result with formatted number, operator name, and status\n *\n * @example\n * ```typescript\n * const result = validateTurkishPhone(\"0532 123 45 67\");\n * if (result.valid) {\n *   console.log(result.formatted); // \"+905321234567\"\n *   console.log(result.operator); // \"Turkcell\"\n * }\n * ```\n */\nexport function validateTurkishPhone(phone: string): PhoneValidationResult {\n  if (!phone || phone.trim() === \"\") {\n    return {\n      valid: false,\n      formatted: null,\n      operator: null,\n      message: \"Telefon numarası boş olamaz\",\n    };\n  }\n\n  const cleaned = cleanPhoneNumber(phone);\n\n  if (!/^\\d+$/.test(cleaned)) {\n    return {\n      valid: false,\n      formatted: null,\n      operator: null,\n      message: \"Telefon numarası sadece rakam içermelidir\",\n    };\n  }\n\n  if (cleaned.length < 11) {\n    return {\n      valid: false,\n      formatted: null,\n      operator: null,\n      message: \"Telefon numarası 11 haneli olmalıdır\",\n    };\n  }\n\n  if (cleaned.length > 11) {\n    return {\n      valid: false,\n      formatted: null,\n      operator: null,\n      message: \"Telefon numarası 11 haneden uzun olamaz\",\n    };\n  }\n\n  if (cleaned[0] !== \"0\") {\n    return {\n      valid: false,\n      formatted: null,\n      operator: null,\n      message: \"Telefon numarası 0 ile başlamalıdır\",\n    };\n  }\n\n  if (cleaned[1] !== \"5\") {\n    return {\n      valid: false,\n      formatted: null,\n      operator: null,\n      message: \"Sadece cep telefonu numaraları kabul edilir (5XX)\",\n    };\n  }\n\n  const operator = getOperatorCode(cleaned);\n\n  if (!operator) {\n    return {\n      valid: false,\n      formatted: null,\n      operator: null,\n      message: \"Geçersiz operatör kodu\",\n    };\n  }\n\n  const formatted = `+90${cleaned.substring(1)}`;\n\n  return {\n    valid: true,\n    formatted: formatted,\n    operator: operator,\n    message: \"Geçerli telefon numarası\",\n  };\n}\n"]}